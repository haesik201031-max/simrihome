<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>AUDIT-K (알코올 사용)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#f6f8fb;color:#111}
  .wrap{max-width:900px;margin:0 auto;padding:32px}
  h1{font-size:28px;margin:8px 0 16px}
  .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:22px 20px;margin:14px 0;box-shadow:0 6px 16px rgba(17,24,39,.06)}
  .q{margin:0 0 12px;font-weight:600}
  .opts label{display:block;margin:6px 0;padding:8px 10px;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer}
  .btn{display:inline-block;background:#1668e3;color:#fff;border:0;border-radius:10px;padding:14px 18px;font-weight:700;cursor:pointer}
  .result{background:#eef5ff;border:1px solid #cfe2ff;border-radius:12px;padding:16px 18px;margin-top:16px}
  .muted{color:#667085}
  .topnav{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  a.home{color:#1668e3;text-decoration:none;font-weight:600}
  .counsel-btn{display:none;text-align:center;margin-top:20px}
  .counsel-btn button{background:#e53935;color:#fff;font-size:18px;font-weight:700;border:0;border-radius:12px;padding:16px 28px;cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <div class="topnav">
    <div class="muted">마음건강 자가검진</div>
    <a class="home" href="index.html">← 메인으로</a>
  </div>
  <h1>AUDIT-K (알코올 사용장애 선별검사)</h1>
  <p class="muted">지난 1년 동안의 음주 경험을 바탕으로 답변해주세요.</p>

  <form id="form"></form>

  <div>
    <button class="btn" id="submitBtn" type="button">결과 확인</button>
    <div id="out" class="result" style="display:none"></div>
  </div>

  <div class="counsel-btn" id="counselDiv">
    <button onclick="window.location.href='counsel.html'" type="button">상담 신청하기</button>
  </div>
</div>

<script>
const qs = [
  "술을 얼마나 자주 마십니까?",
  "술을 마실 때 보통 얼마나 마십니까?",
  "한 번에 술을 많이 마신 적이 얼마나 자주 있습니까? (한 번에 소주 1병 이상, 맥주 4캔 이상 등)",
  "지난 1년 동안, 술을 마신 다음날 해야 할 일을 수행하지 못한 적이 얼마나 자주 있습니까?",
  "지난 1년 동안, 술 마신 후 죄책감이나 후회를 느낀 적이 얼마나 자주 있습니까?",
  "지난 1년 동안, 술 때문에 기억이 안 나는 경우가 얼마나 자주 있었습니까?",
  "술로 인해 본인이나 타인이 다친 적이 있습니까?",
  "술 때문에 친구, 가족, 직장과 문제가 된 적이 있습니까?",
  "술을 줄이려고 했지만 실패한 적이 있습니까?",
  "술을 전혀 마시지 않으려고 결심했지만 지키지 못한 적이 있습니까?"
];

const opts = [
  ["전혀 없음(0)", "월 1회 미만(1)", "월 2~4회(2)", "주 2~3회(3)", "거의 매일(4)"],
  ["술 마시지 않음(0)", "1~2잔(1)", "3~4잔(2)", "5~6잔(3)", "7잔 이상(4)"],
  ["없음(0)", "월 1회 미만(1)", "월 1회(2)", "주 1회(3)", "매일 또는 거의 매일(4)"],
  ["없음(0)", "월 1회 미만(1)", "월 1회(2)", "주 1회(3)", "매일 또는 거의 매일(4)"],
  ["없음(0)", "월 1회 미만(1)", "월 1회(2)", "주 1회(3)", "매일 또는 거의 매일(4)"],
  ["없음(0)", "월 1회 미만(1)", "월 1회(2)", "주 1회(3)", "매일 또는 거의 매일(4)"],
  ["없음(0)", "예, 1회(2)", "예, 2회 이상(4)"],
  ["없음(0)", "예, 1회(2)", "예, 2회 이상(4)"],
  ["없음(0)", "예, 1회(2)", "예, 2회 이상(4)"],
  ["없음(0)", "예, 1회(2)", "예, 2회 이상(4)"]
];

const form=document.getElementById('form');
qs.forEach((t,i)=>{
  const box=document.createElement('div'); box.className='card';
  box.innerHTML=`
    <div class="q">${i+1}. ${t}</div>
    <div class="opts">
      ${opts[i].map((lb,idx)=>`
        <label><input type="radio" name="q${i}" value="${lb.match(/\((\d)\)/)[1]}" required/> ${lb}</label>
      `).join('')}
    </div>`;
  form.append(box);
});

function score(){
  let s=0,c=0;
  qs.forEach((_,i)=>{
    const sel=form.querySelector(`input[name="q${i}"]:checked`);
    if(!sel) return; s+=Number(sel.value); c++;
  });
  if(c!==qs.length) return null;
  return s;
}

document.getElementById('submitBtn').addEventListener('click', ()=>{
  const sc=score();
  const out=document.getElementById('out');
  if(sc===null){ alert("모든 문항에 답해주세요."); return; }

  let guide="";
  if(sc<=7){
    guide="정상 음주: 문제적 음주의 가능성이 낮습니다. 현재의 음주 습관을 유지하세요.";
  } else if(sc<=15){
    guide="위험 음주: 음주로 인한 문제 가능성이 있습니다. 절주 및 주의가 필요합니다.";
  } else if(sc<=19){
    guide="유해 음주: 신체적, 정신적, 사회적 문제 위험이 높습니다. 전문 상담을 권장합니다.";
  } else {
    guide="알코올 사용장애 가능성 매우 높음: 전문적인 진단과 치료가 필요합니다.";
  }

  out.style.display="block";
  out.innerHTML=`<b>총점: ${sc} (0~40)</b><br/><span>${guide}</span>`;
  document.getElementById('counselDiv').style.display='block';
  document.getElementById('counselDiv').scrollIntoView({behavior:"smooth"});
});
</script>
</body>
</html>
