<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>PSS (스트레스)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#f6f8fb;color:#111}
  .wrap{max-width:900px;margin:0 auto;padding:32px}
  h1{font-size:28px;margin:8px 0 16px}
  .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:22px 20px;margin:14px 0;box-shadow:0 6px 16px rgba(17,24,39,.06)}
  .q{margin:0 0 12px;font-weight:600}
  .opts label{display:inline-flex;align-items:center;gap:8px;margin:6px 10px 6px 0;padding:8px 10px;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer}
  .opts input{margin:0}
  .btn{display:inline-block;background:#1668e3;color:#fff;border:0;border-radius:10px;padding:14px 18px;font-weight:700;cursor:pointer;margin-top:10px}
  .result{background:#eef5ff;border:1px solid #cfe2ff;border-radius:12px;padding:16px 18px;margin-top:16px;font-size:16px}
  .muted{color:#667085}
  .topnav{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  a.home{color:#1668e3;text-decoration:none;font-weight:600}
  .counsel-btn{display:none;text-align:center;margin-top:20px}
  .counsel-btn button{background:#e53935;color:#fff;font-size:18px;font-weight:700;border:0;border-radius:12px;padding:16px 28px;cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <div class="topnav">
    <div class="muted">마음건강 자가검진</div>
    <a class="home" href="index.html">← 메인으로</a>
  </div>
  <h1>PSS (스트레스)</h1>
  <p class="muted">지난 한 달 동안 얼마나 자주 해당 상황을 경험했는지 선택하세요.</p>

  <form id="form"></form>

  <div>
    <button class="btn" id="submitBtn" type="button">결과 확인</button>
    <div id="out" class="result" style="display:none"></div>
  </div>

  <div class="counsel-btn" id="counselDiv">
    <button onclick="window.location.href='counsel.html'" type="button">상담 신청하기</button>
  </div>
</div>

<script>
const q = [
  "예상치 못한 일 때문에 화가 난 적이 얼마나 있었습니까?",
  "중요한 일을 통제할 수 없다고 느낀 적이 얼마나 있었습니까?",
  "긴장을 많이 했던 적이 얼마나 있었습니까?",
  "자신이 해야 할 일을 통제할 수 없다고 느낀 적이 얼마나 있었습니까?",
  "문제가 너무 많아 감당할 수 없다고 느낀 적이 얼마나 있었습니까?",
  "어려운 일을 잘 처리할 수 있다고 느낀 적이 얼마나 있었습니까?",
  "개인적인 문제를 잘 해결할 수 있었다고 느낀 적이 얼마나 있었습니까?",
  "중요한 일을 통제할 수 있었다고 느낀 적이 얼마나 있었습니까?",
  "어려운 상황을 잘 대처할 수 있었다고 느낀 적이 얼마나 있었습니까?",
  "생활 속 짜증나는 일을 잘 조절할 수 있었다고 느낀 적이 얼마나 있었습니까?"
];

const labels = ["전혀 없음","가끔","자주","매우 자주"];

const form = document.getElementById('form');
q.forEach((t,i)=>{
  const box = document.createElement('div'); box.className='card';
  box.innerHTML = `
    <div class="q">${i+1}. ${t}</div>
    <div class="opts">
      ${labels.map((lb,idx)=>`
        <label><input type="radio" name="q${i}" value="${idx}" required/> ${lb}</label>
      `).join('')}
    </div>`;
  form.append(box);
});

function score(){
  let s=0,c=0;
  q.forEach((_,i)=>{
    const sel=form.querySelector(`input[name="q${i}"]:checked`);
    if(!sel) return; s+=Number(sel.value); c++;
  });
  if(c!==q.length) return null;
  return s; // 0~30
}

document.getElementById('submitBtn').addEventListener('click', ()=>{
  const sc=score();
  const out=document.getElementById('out');
  if(sc===null){ alert('모든 문항을 선택해 주세요.'); return; }

  let guide="";
  if(sc<=13){
    guide=`낮음 (0–13점)<br/>
    • 스트레스에 대한 지각 수준이 낮으며 전반적으로 안정된 상태입니다.<br/>
    • 대처 전략이 비교적 유효하게 작동하고 있으며 회복력이 좋습니다.<br/>
    • 규칙적인 자기 관리 습관을 유지하는 것이 예방 차원에서 중요합니다.`;
  }
  else if(sc<=19){
    guide=`중간 (14–19점)<br/>
    • 일상에서 반복적인 부담과 긴장이 체감되고 있습니다.<br/>
    • 스트레스 상황을 인식하지만 대처 자원이 제한적일 수 있습니다.<br/>
    • 상담을 통한 스트레스 관리 교육 및 자기 돌봄 기술 향상이 필요합니다.`;
  }
  else {
    guide=`높음 (20점 이상)<br/>
    • 스트레스 경험이 일상 전반에 영향을 미치며 정서적 소진이나 신체 증상으로 이어질 수 있습니다.<br/>
    • 불면, 과민 반응, 건강 악화가 동반될 가능성이 높습니다.<br/>
    • 전문적인 상담介入 및 환경 조정이 필수적으로 권장됩니다.`;
  }

  out.style.display='block';
  out.innerHTML=`<b>총점: ${sc}점 (0~30)</b><br/><span>${guide}</span>`;
  document.getElementById('counselDiv').style.display='block';
});
</script>
</body>
</html>
