<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>PHQ-9 (우울)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body {
    font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    margin:0; background:#f6f8fb; color:#111;
  }
  .wrap { max-width:900px; margin:0 auto; padding:32px; }
  h1 { font-size:28px; margin:8px 0 16px; }
  .card {
    background:#fff; border:1px solid #e5e7eb; border-radius:14px;
    padding:22px 20px; margin:14px 0; box-shadow:0 6px 16px rgba(17,24,39,.06);
  }
  .q { margin:0 0 12px; font-weight:600; }
  .opts label {
    display:inline-flex; align-items:center; gap:8px;
    margin:6px 10px 6px 0; padding:8px 10px;
    border-radius:10px; border:1px solid #e5e7eb; cursor:pointer;
  }
  .btn {
    display:inline-block; background:#1668e3; color:#fff;
    border:0; border-radius:10px; padding:14px 18px;
    font-weight:700; cursor:pointer; margin-top:10px;
  }
  .result {
    background:#eef5ff; border:1px solid #cfe2ff;
    border-radius:12px; padding:16px 18px; margin-top:16px;
  }
  .consult {
    margin-top:20px; text-align:center;
  }
  .consult a {
    display:inline-block; background:#dc2626; color:#fff;
    padding:14px 22px; font-size:18px; font-weight:700;
    border-radius:12px; text-decoration:none;
  }
  .muted { color:#667085; }
  .topnav {
    display:flex; justify-content:space-between;
    align-items:center; margin-bottom:12px;
  }
  a.home { color:#1668e3; text-decoration:none; font-weight:600; }
</style>
</head>
<body>
<div class="wrap">
  <div class="topnav">
    <div class="muted">마음건강 자가검진</div>
    <a class="home" href="index.html">← 메인으로</a>
  </div>
  <h1>PHQ-9 (우울)</h1>
  <p class="muted">지난 2주간 얼마나 자주 해당 증상이 있었는지 선택하세요.</p>

  <form id="phqForm">
    <!-- 1번 -->
    <div class="card">
      <div class="q">1. 기분이 가라앉거나, 우울하거나, 희망이 없었다</div>
      <div class="opts">
        <label><input type="radio" name="q1" value="0" required> 없음</label>
        <label><input type="radio" name="q1" value="1"> 2~6일</label>
        <label><input type="radio" name="q1" value="2"> 7~12일</label>
        <label><input type="radio" name="q1" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 2번 -->
    <div class="card">
      <div class="q">2. 평소 하던 일에 대한 흥미가 없어지거나 즐거움이 줄었다</div>
      <div class="opts">
        <label><input type="radio" name="q2" value="0" required> 없음</label>
        <label><input type="radio" name="q2" value="1"> 2~6일</label>
        <label><input type="radio" name="q2" value="2"> 7~12일</label>
        <label><input type="radio" name="q2" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 3번 -->
    <div class="card">
      <div class="q">3. 잠들기 어렵거나 자주 깼다 / 혹은 너무 많이 잤다</div>
      <div class="opts">
        <label><input type="radio" name="q3" value="0" required> 없음</label>
        <label><input type="radio" name="q3" value="1"> 2~6일</label>
        <label><input type="radio" name="q3" value="2"> 7~12일</label>
        <label><input type="radio" name="q3" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 4번 -->
    <div class="card">
      <div class="q">4. 평소보다 식욕이 줄었다 / 혹은 평소보다 많이 먹었다</div>
      <div class="opts">
        <label><input type="radio" name="q4" value="0" required> 없음</label>
        <label><input type="radio" name="q4" value="1"> 2~6일</label>
        <label><input type="radio" name="q4" value="2"> 7~12일</label>
        <label><input type="radio" name="q4" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 5번 -->
    <div class="card">
      <div class="q">5. 다른 사람이 눈치 챌 정도로 말과 행동이 느려졌다 / 혹은 너무 안절부절못했다</div>
      <div class="opts">
        <label><input type="radio" name="q5" value="0" required> 없음</label>
        <label><input type="radio" name="q5" value="1"> 2~6일</label>
        <label><input type="radio" name="q5" value="2"> 7~12일</label>
        <label><input type="radio" name="q5" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 6번 -->
    <div class="card">
      <div class="q">6. 피곤하고 기운이 없었다</div>
      <div class="opts">
        <label><input type="radio" name="q6" value="0" required> 없음</label>
        <label><input type="radio" name="q6" value="1"> 2~6일</label>
        <label><input type="radio" name="q6" value="2"> 7~12일</label>
        <label><input type="radio" name="q6" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 7번 -->
    <div class="card">
      <div class="q">7. 내가 잘못했거나 실패했다는 생각 / 자신과 가족을 실망시켰다고 생각했다</div>
      <div class="opts">
        <label><input type="radio" name="q7" value="0" required> 없음</label>
        <label><input type="radio" name="q7" value="1"> 2~6일</label>
        <label><input type="radio" name="q7" value="2"> 7~12일</label>
        <label><input type="radio" name="q7" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 8번 -->
    <div class="card">
      <div class="q">8. 신문 읽기 / TV 보기 같은 일에도 집중하기 어려웠다</div>
      <div class="opts">
        <label><input type="radio" name="q8" value="0" required> 없음</label>
        <label><input type="radio" name="q8" value="1"> 2~6일</label>
        <label><input type="radio" name="q8" value="2"> 7~12일</label>
        <label><input type="radio" name="q8" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 9번 -->
    <div class="card">
      <div class="q">9. 차라리 죽는 게 낫겠다 / 자해 생각을 했다</div>
      <div class="opts">
        <label><input type="radio" name="q9" value="0" required> 없음</label>
        <label><input type="radio" name="q9" value="1"> 2~6일</label>
        <label><input type="radio" name="q9" value="2"> 7~12일</label>
        <label><input type="radio" name="q9" value="3"> 거의 매일</label>
      </div>
    </div>
    <!-- 기능 장애 -->
    <div class="card">
      <div class="q">10. 위 증상 때문에 일/집안일/대인관계에 지장이 있었습니까? (점수에 미포함)</div>
      <div class="opts">
        <label><input type="radio" name="impact" value="0" required> 전혀 지장없다</label>
        <label><input type="radio" name="impact" value="1"> 약간 힘들었다</label>
        <label><input type="radio" name="impact" value="2"> 많이 힘들었다</label>
        <label><input type="radio" name="impact" value="3"> 매우 많이 힘들었다</label>
      </div>
    </div>

    <button class="btn" type="button" onclick="calcScore()">결과 확인</button>
  </form>

  <div id="result" class="result" style="display:none;"></div>
  <div class="consult" id="consultBtn" style="display:none;">
    <a href="counsel.html">상담 신청하기</a>
  </div>
</div>

<script>
function calcScore(){
  const form = document.getElementById("phqForm");
  let score = 0;
  for(let i=1;i<=9;i++){
    const sel = form.querySelector(`input[name="q${i}"]:checked`);
    if(!sel){ alert("모든 문항에 응답해주세요."); return; }
    score += parseInt(sel.value);
  }

  let level="", feedback="";
  if(score <= 9){
    level="경증"; feedback="가벼운 우울감이 있지만 기능은 유지 가능한 상태입니다. 자기 관리로 개선될 수 있습니다.";
  } else if(score <= 14){
    level="중등도"; feedback="우울 증상이 일상에 영향을 미치고 있으며, 악화 가능성이 있습니다. → 상담 선택 권장";
  } else {
    level="중증"; feedback="심각한 우울 증상으로 기능 저하가 뚜렷합니다. → 상담 필수 요망";
  }

  document.getElementById("result").style.display="block";
  document.getElementById("result").innerHTML =
    `<h3>총점: ${score}점</h3><p><b>구분: ${level}</b><br/><span class="muted">${feedback}</span></p>`;
  document.getElementById("consultBtn").style.display="block";
}
</script>
</body>
</html>
