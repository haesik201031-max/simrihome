<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>PHQ-9 (우울)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#f6f8fb;color:#111}
  .wrap{max-width:900px;margin:0 auto;padding:32px}
  h1{font-size:28px;margin:8px 0 16px}
  .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:22px 20px;margin:14px 0;box-shadow:0 6px 16px rgba(17,24,39,.06)}
  .q{margin:0 0 12px;font-weight:600}
  .opts label{display:inline-flex;align-items:center;gap:8px;margin:6px 10px 6px 0;padding:8px 10px;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer}
  .btn{display:inline-block;background:#1668e3;color:#fff;border:0;border-radius:10px;padding:14px 18px;font-weight:700;cursor:pointer;margin-top:10px}
  .result{background:#eef5ff;border:1px solid #cfe2ff;border-radius:12px;padding:16px 18px;margin-top:16px}
  .muted{color:#667085}
  .topnav{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  a.home{color:#1668e3;text-decoration:none;font-weight:600}
</style>
</head>
<body>
<div class="wrap">
  <div class="topnav">
    <div class="muted">마음건강 자가검진</div>
    <a class="home" href="index.html">← 메인으로</a>
  </div>
  <h1>PHQ-9 (우울)</h1>
  <p class="muted">지난 2주간 얼마나 자주 해당 증상이 있었는지 선택하세요.</p>

  <form id="phqForm">
    <div class="card"><div class="q">1. 기분이 가라앉거나, 우울하거나, 희망이 없었다</div>
      <div class="opts">
        <label><input type="radio" name="q1" value="0" required> 없음</label>
        <label><input type="radio" name="q1" value="1"> 2~6일</label>
        <label><input type="radio" name="q1" value="2"> 7~12일</label>
        <label><input type="radio" name="q1" value="3"> 거의 매일</label>
      </div>
    </div>

    <!-- 동일한 구조로 9번까지 작성 -->
    <div class="card"><div class="q">2. 평소 하던 일에 대한 흥미가 없어지거나 즐거움이 줄었다</div>
      <div class="opts">
        <label><input type="radio" name="q2" value="0" required> 없음</label>
        <label><input type="radio" name="q2" value="1"> 2~6일</label>
        <label><input type="radio" name="q2" value="2"> 7~12일</label>
        <label><input type="radio" name="q2" value="3"> 거의 매일</label>
      </div>
    </div>

    <!-- ... 중간 생략 (3~8번) ... -->

    <div class="card"><div class="q">9. 차라리 죽는 게 낫겠다 / 자해 생각을 했다</div>
      <div class="opts">
        <label><input type="radio" name="q9" value="0" required> 없음</label>
        <label><input type="radio" name="q9" value="1"> 2~6일</label>
        <label><input type="radio" name="q9" value="2"> 7~12일</label>
        <label><input type="radio" name="q9" value="3"> 거의 매일</label>
      </div>
    </div>

    <div class="card"><div class="q">10. 위 증상 때문에 일/집안일/대인관계에 지장이 있었습니까? (점수에 미포함)</div>
      <div class="opts">
        <label><input type="radio" name="impact" required> 전혀 지장없다</label>
        <label><input type="radio" name="impact"> 약간 힘들었다</label>
        <label><input type="radio" name="impact"> 많이 힘들었다</label>
        <label><input type="radio" name="impact"> 매우 많이 힘들었다</label>
      </div>
    </div>

    <button class="btn" type="button" onclick="calcScore()">결과 보기</button>
  </form>

  <div id="out" class="result" style="display:none"></div>
  <button class="btn" onclick="window.location.href='counsel.html'" type="button">상담 신청하기</button>
</div>

<script>
function calcScore(){
  const form=document.getElementById("phqForm");
  let score=0;
  for(let i=1;i<=9;i++){
    const sel=form.querySelector(`input[name="q${i}"]:checked`);
    if(!sel){ alert("모든 문항에 응답해 주세요."); return; }
    score+=parseInt(sel.value);
  }
  let level="", guide="";
  if(score<=4){ level="최소"; guide="우울 증상이 경미한 수준입니다."; }
  else if(score<=9){ level="경도"; guide="우울 증상이 가벼운 편입니다. 지속 시 점검 권장."; }
  else if(score<=14){ level="중등도"; guide="중등도의 우울감. 전문가 상담을 권합니다."; }
  else if(score<=19){ level="중등도-중증"; guide="증상이 뚜렷합니다. 상담/진료를 권합니다."; }
  else { level="중증"; guide="중증 범위일 수 있습니다. 빠른 상담/진료 권고."; }

  const out=document.getElementById("out");
  out.style.display="block";
  out.innerHTML=`<b>총점: ${score}점 (0~27)</b><br/>구분: <b>${level}</b><br/><span class="muted">${guide}</span>`;
}
</script>
</body>
</html>
