<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>IES-R (사건충격척도)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#f6f8fb;color:#111}
  .wrap{max-width:900px;margin:0 auto;padding:32px}
  h1{font-size:28px;margin:8px 0 16px}
  .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:18px 20px;margin:12px 0;box-shadow:0 6px 16px rgba(17,24,39,.06)}
  .q{margin:0 0 10px;font-weight:600}
  .opts label{display:inline-flex;align-items:center;gap:8px;margin:6px 8px 6px 0;padding:6px 10px;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer}
  .btn{display:inline-block;background:#1668e3;color:#fff;border:0;border-radius:10px;padding:14px 18px;font-weight:700;cursor:pointer}
  .result{background:#eef5ff;border:1px solid #cfe2ff;border-radius:12px;padding:16px 18px;margin-top:16px}
  .muted{color:#667085}
  .topnav{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  a.home{color:#1668e3;text-decoration:none;font-weight:600}
</style>
</head>
<body>
<div class="wrap">
  <div class="topnav">
    <div class="muted">마음건강 자가검진</div>
    <a class="home" href="index.html">← 메인으로</a>
  </div>
  <h1>IES-R (사건충격척도)</h1>
  <p class="muted">최근 1주일 동안, 사건과 관련된 어려움을 얼마나 경험했는지 선택해주세요. (0~4점)</p>

  <form id="form"></form>

  <div>
    <button class="btn" id="submitBtn" type="button">결과 보기</button>
    <div id="out" class="result" style="display:none"></div>
  </div>
</div>

<script>
const labels = ["전혀 없다(0)","약간 있다(1)","상당히 있다(2)","많이 있다(3)","극심하게 있다(4)"];
const qs = [
"그 사건을 떠올리게 하는 어떤 것이 감정을 다시 불러일으켰다",
"수면을 지속하는 데 어려움이 있었다",
"다른 일들로 인해 그 사건을 생각하게 된다",
"그 사건 이후 예민하고 화가 난다고 느꼈다",
"그 사건을 생각/떠올릴 때 혼란스러워 회피하려 했다",
"생각하지 않으려 해도 그 사건이 떠올랐다",
"사건이 일어나지 않았거나 현실이 아닌 듯 느꼈다",
"사건을 상기시키는 것들을 멀리했다",
"사건의 장면이 마음속에 갑자기 떠올랐다",
"신경이 예민해졌고 쉽게 깜짝 놀랐다",
"사건에 관해 생각하지 않기 위해 노력했다",
"사건에 대해 여전히 많은 감정을 가지고 있지만 신경 쓰고 싶지 않았다",
"사건에 대한 감정이 무감각했다",
"사건 당시로 돌아간 것처럼 느끼거나 행동했다",
"그 사건 이후로 잠들기가 어려웠다",
"그 사건에 대한 강한 감정이 밀려왔다",
"기억에서 그 사건을 지워버리려고 노력했다",
"집중하는 데 어려움이 있었다",
"사건을 떠올리게 하는 것에 신체 반응(두근거림/오심 등)이 있었다",
"그 사건에 관한 꿈을 꾸었다",
"주위를 경계/감시하고 있다고 느꼈다",
"사건에 대해 이야기하지 않으려 노력했다"
];

const form = document.getElementById('form');
qs.forEach((t,i)=>{
  const box = document.createElement('div'); box.className='card';
  box.innerHTML = `<div class="q">${i+1}. ${t}</div>
  <div class="opts">
    ${labels.map((lb,idx)=>`<label><input type="radio" name="q${i}" value="${idx}" required/> ${lb}</label>`).join('')}
  </div>`;
  form.append(box);
});

function score(){
  let s=0,c=0;
  qs.forEach((_,i)=>{
    const sel = form.querySelector(`input[name="q${i}"]:checked`);
    if(!sel) return; s+=Number(sel.value); c++;
  });
  if(c!==qs.length) return null;
  return s; // 0~88
}

document.getElementById('submitBtn').addEventListener('click', ()=>{
  const sc = score();
  const out = document.getElementById('out');
  if(sc===null){ alert('모든 문항을 선택해주세요.'); return; }
  let level="", guide="";
  if(sc<24){ level="낮음"; guide="외상 후 스트레스 반응이 경미합니다."; }
  else if(sc<44){ level="중간"; guide="중등도의 스트레스 반응. 경과 관찰 권장."; }
  else { level="높음"; guide="스트레스 반응이 높을 수 있습니다. 상담/진료 권함."; }
  out.style.display='block';
  out.innerHTML = `<b>총점: ${sc} (0~88)</b><br/>구분: <b>${level}</b><br/><span class="muted">${guide}</span>`;
});
</script>
</body>
</html>

